load("@rules_cc//cc:cc_library.bzl", "cc_library")

cc_binary(
    name = "wm",
    srcs = glob(["*.cc"]),
    deps = [
			"@abseil-cpp//absl/log:initialize",
			"@abseil-cpp//absl/log:check",
			"@abseil-cpp//absl/log:log",
			"//nyla/bar_manager",
			"//nyla/client_manager",
			"//nyla/keyboard",
			"//nyla/layout",
			"//nyla/protocols",
			"//nyla/spawn",
			"//nyla/timer",
    ],
		defines = [
			"ABSL_MIN_LOG_LEVEL=absl::LogSeverity::kInfo"
		],
		linkopts = [
			"-lxcb",
			"-lxcb-util",
			"-lxcb-xkb",
			"-lxkbcommon",
			"-lxkbcommon-x11",
		],
)
